
Here is a simple breakdown using a visual example.

### The Core Rule

Think of a **UNION** attack like trying to zip two zippers together. If one side has **4 teeth** and the other side only has **1 tooth**, they won't zip. The database will crash (give an error) because the structures don't match.

To make them zip, you have to add "fake teeth" (junk data) to your side until the numbers match.

---

### The Scenario

Imagine you are hacking a website that lists Employees.

Behind the scenes, the website runs this "Hidden Query" to show data on the screen:

**Original Query (3 Columns):**

SQL

```
SELECT First_Name, Last_Name, Department FROM employees WHERE id = [User_Input]
```

The website expects **3 columns** of data to display:

1. Name
    
2. Surname
    
3. Department
    

### The Attack (The Problem)

You want to steal the **database version**. You try to inject this:

SQL

```
UNION SELECT @@version
```

What happens?

The database tries to combine them:

- **Row 1 (Original):** `[John] [Doe] [HR]` **(3 columns)**
    
- **Row 2 (Yours):** `[5.7.3]` **(1 column)**
    

**Result:** üí• **ERROR.** The database says, _"The used SELECT statements have a different number of columns."_

### The Fix (Uneven Columns)

Since the original query has **3 columns**, and your attack query only has **1 column** (the version), you are "uneven."

You need to add **2 columns of junk** to make the total equal 3.

**The Correct Injection:**

SQL

```
UNION SELECT @@version, 1, 2
```

What happens now?

The database combines them again:

- **Row 1 (Original):** `[John] [Doe] [HR]`
    
- **Row 2 (Yours):** `[5.7.3] [1] [2]`
    

**Result:** ‚úÖ **SUCCESS.** The columns match (3 vs 3).

### Why do we use numbers (1, 2, 3...)?

We use numbers for two reasons:

1. **To Fill Space:** They act as placeholders to satisfy the column count rule.
    
2. **To Find the "Magic Column":** Sometimes a website fetches 10 columns but only displays _one_ on the screen.
    

Example:

Imagine the website query fetches 3 columns, but only displays the Second Column on the webpage.

If you inject: `UNION SELECT 'password', 2, 3`

- Column 1 ('password') is hidden.
    
- **Column 2 (2) is shown on screen.**
    
- Column 3 (3) is hidden.
    

You will just see the number **"2"** on the page. This tells you: _"Aha! The second column is the one that gets displayed. I need to move my payload there."_

**Modified Attack:**

SQL

```
UNION SELECT 1, 'password', 3
```

Now, because the website displays the 2nd column, your password will appear on the screen!

### Summary Table

|**Query A (Website)**|**Query B (You)**|**Result**|
|---|---|---|
|`SELECT A, B, C`|`UNION SELECT X`|‚ùå **Error** (3 vs 1)|
|`SELECT A, B, C`|`UNION SELECT X, Y`|‚ùå **Error** (3 vs 2)|
|`SELECT A, B, C`|`UNION SELECT X, 1, 2`|‚úÖ **Success** (3 vs 3)|

**Do you want to know how to figure out exactly how many columns the hidden query has (using `ORDER BY`)?**