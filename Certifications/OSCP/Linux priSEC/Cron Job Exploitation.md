Cron job file is any file or service or script that runs automatically at a specified time or in a sheduled time

```
minutes hours weeks monts year
```

## Finding crown job Method 1


 ![[../../../attchments/Exported image 20241213143600-0.png|Exported image]]  
![[../../../attchments/Exported image 20241213143604-1.png|Exported image]]

Alternative /etc/crowntabd
   

### Finding crown job Method 2
 
Look for any unusval files then look fron the last time it was executed using ls -la if the time its changing min bu min then it is a cron job file  

![[../../../attchments/Exported image 20241213143607-2.png|Exported image]]  

#### Finding crown job Method 3
 
Using a tool that continusly moniters every file that is being executed
 
The name of the tool is pspy
 ![[../../../attchments/Exported image 20241213143613-3.png|Exported image]]  
![[../../../attchments/Exported image 20241213143617-4.png|Exported image]]  
![[../../../attchments/Exported image 20241213143620-5.png|Exported image]]  
![[../../../attchments/Exported image 20241213143622-6.png|Exported image]]  
![[../../../attchments/Exported image 20241213143626-7.png|Exported image]]  
![[../../../attchments/Exported image 20241213143636-8.png|Exported image]]  

## EXPLOITATION OF CRON JOB

3 METHODS
 
### METHOD 1  


WEAK FILE PERMISIONS
 ![[../../../attchments/Exported image 20241213143640-9.png|Exported image]]  
![[../../../attchments/Exported image 20241213143646-10.png|Exported image]]  
![[../../../attchments/Exported image 20241213143648-11.png|Exported image]]

IT HAS READ and write perm for other users

![[../../../attchments/Exported image 20241213143652-12.png|Exported image]]  
![[../../../attchments/Exported image 20241213143656-13.png|Exported image]]  
![[../../../attchments/Exported image 20241213143658-14.png|Exported image]]  

### METHOD 2  
PATH VARIABLE OVERTAKE

![[../../../attchments/Exported image 20241213143701-15.png|Exported image]]  

CRON tab is looking for owerwrite.sh to excute firt is it cheaking /home/user then /usr/local/sbin then â€¦..  
We know thet it is in /usr/local/bin
 
S0 what we can do it make a new owerwrite.sh in /home/user so it will execute the first overwrite.sh file
 ![[../../../attchments/Exported image 20241213143704-16.png|Exported image]]  
![[../../../attchments/Exported image 20241213143711-17.png|Exported image]]  
![[../../../attchments/Exported image 20241213143714-18.png|Exported image]]  
![[../../../attchments/Exported image 20241213143717-19.png|Exported image]]  
![[../../../attchments/Exported image 20241213143720-20.png|Exported image]]  

### METHOD 3  
Cron job with insecure coding practicies
 ![[../../../attchments/Exported image 20241213143723-21.png|Exported image]]  
![[../../../attchments/Exported image 20241213143727-22.png|Exported image]]  
![[../../../attchments/Exported image 20241213143730-23.png|Exported image]]  
![[../../../attchments/Exported image 20241213143736-24.png|Exported image]]  
![[../../../attchments/Exported image 20241213143740-25.png|Exported image]]  
![[../../../attchments/Exported image 20241213143742-26.png|Exported image]]  
![[../../../attchments/Exported image 20241213143746-27.png|Exported image]]  
![[../../../attchments/Exported image 20241213143748-28.png|Exported image]]  
![[../../../attchments/Exported image 20241213143751-29.png|Exported image]]