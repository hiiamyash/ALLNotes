

# Web Proxy
## I13.Uisng Web Proxiesntersecting Web Request

Intercepting - Using intruder

## Intersepting Respones

In Burp, we can enable response interception by going to (`Proxy>Proxy settings`) and enabling `Intercept Response` under `Response interception rules`:

![[Pasted image 20251101131805.png]]


Let's try changing the `type="number"` on line 27 to `type="text"`, which should enable us to write any value we want. We will also change the `maxlength="3"` to `maxlength="100"` so we can enter longer input:




## Automatic Modification


### Automatic Request Modification

#### Burp Match and Replace

We can go to (`Proxy>Proxy settings>HTTP match and replace rules`) and click on `Add` in Burp.


|   |   |
|---|---|
|`Type`: `Request header`|Since the change we want to make will be in the request header and not in its body.|
|`Match`: `^User-Agent.*$`|The regex pattern that matches the entire line with `User-Agent` in it.|
|`Replace`: `User-Agent: HackTheBox Agent 1.0`|This is the value that will replace the line we matched above.|
|`Regex match`: True|We don't know the exact User-Agent string we want to replace, so we'll use regex to match any value that matches the pattern we specified above.|

## Repeating Request


Repeater


## Proxying Tools

---


### ProxyChains

To use `proxychains`, we first have to edit `/etc/proxychains.conf`, comment out the final line and add the following line at the end of it:


```shell-session
#socks4         127.0.0.1 9050
http 127.0.0.1 8080
```

```shell-session
proxychains -q curl http://SERVER_IP:PORT
```
`THis Reuest will be seen on your Burp`


Another useful option is the `Grep - Match`, which enables us to flag specific requests depending on their responses. As we are fuzzing web directories, we are only interested in responses with HTTP code `200 OK`.


We may also utilize the `Grep - Extract` option, which is useful if the HTTP responses are lengthy, and we're only interested in a certain part of the response. So, this helps us in only showing a specific part of the response. We are only looking for responses with HTTP Code `200 OK`,


```
ffuf -request req -request-proto http -w md5-usernames.txt:USER
```

```
while read -r user; do echo -n "$user" | md5sum; done < /usr/share/seclists/Usernames/top-usernames-shortlist.txt > md5-usernames.txt
```

BE useful -Arnold

think like an roman emperier

the millianer fast lane

Chanakya niti
The effective executive

5 leveles of Leadership

koren Tigers

Felser Engenerr



